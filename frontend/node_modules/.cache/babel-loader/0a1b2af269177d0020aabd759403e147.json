{"ast":null,"code":"import { ADD_POST, DELETE_POST, FETCH_POST } from './types';\nimport axios from 'axios';\nvar apiUrl = 'http://localhost:5000/api/posts';\nexport var createPost = function createPost(_ref) {\n  var sender = _ref.sender,\n      name = _ref.name,\n      avatar = _ref.avatar,\n      body = _ref.body;\n  return function (dispatch) {\n    return axios.post(\"\".concat(apiUrl, \"/add\"), {\n      sender: sender,\n      name: name,\n      avatar: avatar,\n      body: body\n    }).then(function (response) {\n      dispatch(createPostSuccess(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};\nexport var createPostSuccess = function createPostSuccess(data) {\n  return {\n    type: ADD_POST,\n    payload: {\n      _id: data._id,\n      body: data.body\n    }\n  };\n};\nexport var deletePostSuccess = function deletePostSuccess(id) {\n  return {\n    type: DELETE_POST,\n    payload: {\n      id: id\n    }\n  };\n};\nexport var deletePost = function deletePost(id) {\n  return function (dispatch) {\n    return axios.get(\"\".concat(apiUrl, \"/delete/\").concat(id)).then(function (response) {\n      dispatch(deletePostSuccess(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};\nexport var fetchPosts = function fetchPosts(posts) {\n  return {\n    type: FETCH_POST,\n    posts: posts\n  };\n};\nexport var fetchAllPosts = function fetchAllPosts() {\n  var users = [];\n  return function (dispatch) {\n    return axios.get('/api/users/me').then(function (res) {\n      users.push({\n        id: res.data.id,\n        name: res.data.name,\n        avatar: res.data.avatar\n      });\n      console.log(users);\n      axios.get(\"\".concat(apiUrl, \"/\")).then(function (response) {\n        dispatch(fetchPosts(response.data));\n      }).catch(function (error) {\n        throw error;\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/Users/nha/Plugged/frontend/src/actions/index.js"],"names":["ADD_POST","DELETE_POST","FETCH_POST","axios","apiUrl","createPost","sender","name","avatar","body","dispatch","post","then","response","createPostSuccess","data","catch","error","type","payload","_id","deletePostSuccess","id","deletePost","get","fetchPosts","posts","fetchAllPosts","users","res","push","console","log"],"mappings":"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","sourcesContent":["import { ADD_POST, DELETE_POST, FETCH_POST } from './types';\nimport axios from 'axios';\n\nconst apiUrl = 'http://localhost:5000/api/posts';\n\nexport const createPost = ({ sender, name, avatar, body }) => {\n  return (dispatch) => {\n    return axios.post(`${apiUrl}/add`, {sender, name, avatar, body})\n      .then(response => {\n        dispatch(createPostSuccess(response.data))\n      })\n      .catch(error => {\n        throw(error);\n      });\n  };\n};\n\nexport const createPostSuccess =  (data) => {\n  return {\n    type: ADD_POST,\n    payload: {\n      _id: data._id,\n      body: data.body\n    }\n  }\n};\n\nexport const deletePostSuccess = id => {\n  return {\n    type: DELETE_POST,\n    payload: {\n      id\n    }\n  }\n}\n\nexport const deletePost = id => {\n  return (dispatch) => {\n    return axios.get(`${apiUrl}/delete/${id}`)\n      .then(response => {\n        dispatch(deletePostSuccess(response.data))\n      })\n      .catch(error => {\n        throw(error);\n      });\n  };\n};\n\nexport const fetchPosts = (posts) => {\n  return {\n    type: FETCH_POST,\n    posts\n  }\n};\n\nexport const fetchAllPosts = () => {\n  let users = [];\n  return (dispatch) => {\n    return axios.get('/api/users/me')\n        .then(res => {\n          users.push({id: res.data.id, name: res.data.name, avatar: res.data.avatar});\n          console.log(users);\n          axios.get(`${apiUrl}/`)\n            .then(response => {\n              dispatch(fetchPosts(response.data))\n            })\n            .catch(error => {\n              throw(error);\n            });\n        });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}