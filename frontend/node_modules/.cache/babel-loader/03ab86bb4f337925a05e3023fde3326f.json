{"ast":null,"code":"var _jsxFileName = \"/Users/nha/Plugged/frontend/src/containers/EventList.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Event from '../components/Event';\nimport SearchEvents from './FindEvents';\nimport { getEvents, addEvent as _addEvent, clearEvent as _clearEvent } from '../actions';\nimport axios from 'axios';\nimport Button from \"@material-ui/core/Button\";\nvar styles = {\n  marginRight: 0,\n  width: \"100%\"\n};\nvar curPage = 0;\nvar maxPage = 0;\nvar results = 0;\nvar query = '';\nvar status = [];\nvar user = {\n  avatar: ''\n};\n\nfunction EventList(_ref) {\n  var events = _ref.events,\n      onPrev = _ref.onPrev,\n      onNext = _ref.onNext,\n      getEvent = _ref.getEvent,\n      addEvent = _ref.addEvent,\n      clearEvent = _ref.clearEvent;\n  axios.get('/api/events/going').then(function (res) {\n    status = res.data;\n    console.log(status);\n    status.map(function (element) {\n      axios.get(\"/api/events/get/\".concat(element.event)).then(function (res) {\n        console.log(res.data);\n      });\n    });\n  });\n  axios.get('/api/users/me').then(function (res) {\n    user.avatar = res.data.avatar;\n  }); //console.log(events);\n\n  if (events.items) {\n    curPage = events.page.number + 1;\n    maxPage = events.page.totalPages;\n    results = events.page.totalElements;\n    query = events.qs;\n  }\n\n  if (!events.items) {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      style: styles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-xs-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"events-panel\",\n      className: \"panel panel-primary\",\n      style: {\n        background: \"#337ab7\",\n        border: \"1px solid #337ab7\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel-heading\",\n      style: {\n        padding: \"10px 10px 0px 10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"panel-title\",\n      style: {\n        background: \"#337ab7\",\n        color: \"white\",\n        fontSize: \"25px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Events\")), React.createElement(\"div\", {\n      className: \"panel-body\",\n      style: {\n        padding: \"10px\",\n        background: \"white\",\n        fontSize: \"14px\",\n        lineHeight: \"1.4\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        background: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(SearchEvents, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      style: {\n        textAlign: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"No results found\"))))));\n  }\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    style: styles,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-xs-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"events-panel\",\n    className: \"panel panel-primary\",\n    style: {\n      background: \"#337ab7\",\n      border: \"1px solid #337ab7\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"panel-heading\",\n    style: {\n      padding: \"10px 10px 0px 10px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"panel-title\",\n    style: {\n      background: \"#337ab7\",\n      color: \"white\",\n      fontSize: \"25px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Events\")), React.createElement(\"div\", {\n    className: \"panel-body\",\n    style: {\n      padding: \"10px\",\n      background: \"white\",\n      fontSize: \"14px\",\n      lineHeight: \"1.4\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      background: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(SearchEvents, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  })), React.createElement(Button, {\n    size: \"small\",\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return console.log('test');\n    },\n    style: {\n      float: \"left\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"My Events\"), React.createElement(\"p\", {\n    style: {\n      textAlign: \"right\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, results, \" Results\"), React.createElement(\"div\", {\n    id: \"events\",\n    className: \"list-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, events.items.map(function (show) {\n    return React.createElement(Event, {\n      user: user,\n      event: show,\n      key: show.id,\n      getEvent: getEvent,\n      addEvent: addEvent,\n      clearEvent: clearEvent,\n      status: status.find(function (element) {\n        return element.event === show.id;\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    });\n  }))), React.createElement(\"div\", {\n    className: \"panel-footer\",\n    style: {\n      padding: \"10px\",\n      backgroundColor: \"#f5f5f5\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"nav\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"pager\",\n    style: {\n      textAlign: \"center\",\n      paddingLeft: 0,\n      listStyle: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    id: \"prev\",\n    className: \"previous\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"#\",\n    onClick: onPrev,\n    style: {\n      float: \"left\",\n      padding: \"5px 15px\",\n      backgroundColor: \"#fff\",\n      border: \"1px solid #ddd\",\n      borderRadius: \"15px\",\n      color: \"#337ab7\",\n      textDecoration: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"\\u2190\"))), React.createElement(\"li\", {\n    id: \"next\",\n    className: \"next\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"#\",\n    onClick: onNext,\n    style: {\n      float: \"right\",\n      padding: \"5px 15px\",\n      backgroundColor: \"#fff\",\n      border: \"1px solid #ddd\",\n      borderRadius: \"15px\",\n      color: \"#337ab7\",\n      textDecoration: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"\\u2192\"))), React.createElement(\"p\", {\n    style: {\n      fontSize: \"16px\",\n      float: \"center\",\n      paddingTop: \"5px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, curPage, \"/\", maxPage))))), React.createElement(\"div\", {\n    id: \"attraction-panel\",\n    className: \"panel panel-primary\",\n    style: {\n      display: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"panel-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"panel-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"Attraction\")), React.createElement(\"div\", {\n    id: \"attraction\",\n    className: \"panel-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"list-group-item-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"Attraction title\"), React.createElement(\"img\", {\n    className: \"col-xs-12\",\n    src: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"classification\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }))))));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    events: state.events\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onPrev: function onPrev() {\n      query.page = query.page - 1;\n\n      if (query.page < 0) {\n        query.page = 0;\n      }\n\n      dispatch(getEvents(query));\n    },\n    onNext: function onNext() {\n      query.page = query.page + 1; // need to check for edge cases\n\n      if (query.page > 0) {\n        if (query.page > maxPage - 1) {\n          query.page = 0;\n        }\n      }\n\n      dispatch(getEvents(query));\n    },\n    getEvent: function getEvent(id) {//console.log(`Checking event ${id}`);\n      // console.log(status.includes(id));\n      // dispatch(getEvents({id: id}));\n    },\n    addEvent: function addEvent(register) {\n      dispatch(_addEvent(register)).then(dispatch(getEvents(query)));\n    },\n    clearEvent: function clearEvent(id) {\n      dispatch(_clearEvent(id)).then(dispatch(getEvents(query)));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EventList);","map":{"version":3,"sources":["/Users/nha/Plugged/frontend/src/containers/EventList.js"],"names":["React","connect","Event","SearchEvents","getEvents","addEvent","clearEvent","axios","Button","styles","marginRight","width","curPage","maxPage","results","query","status","user","avatar","EventList","events","onPrev","onNext","getEvent","get","then","res","data","console","log","map","element","event","items","page","number","totalPages","totalElements","qs","background","border","padding","color","fontSize","lineHeight","textAlign","float","show","id","find","backgroundColor","paddingLeft","listStyle","borderRadius","textDecoration","paddingTop","display","mapStateToProps","state","mapDispatchToProps","dispatch","register"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport Event from '../components/Event';\nimport SearchEvents from './FindEvents';\nimport { getEvents, addEvent, clearEvent } from '../actions';\nimport axios from 'axios';\nimport Button from \"@material-ui/core/Button\";\n\nconst styles = {\n  marginRight: 0,\n  width: \"100%\"\n}\n\nvar curPage = 0;\nvar maxPage = 0;\nvar results = 0;\nvar query = '';\nvar status = [];\nvar user = {avatar: ''}\n\nfunction EventList({ events, onPrev, onNext, getEvent, addEvent, clearEvent }) {\n\n  axios.get('/api/events/going').then(res => {\n    status = res.data;\n    console.log(status);\n    status.map(element => {\n      axios.get(`/api/events/get/${element.event}`).then(res => {\n        console.log(res.data);\n      })\n    })\n  });\n\n  axios.get('/api/users/me').then(res => {\n    user.avatar = res.data.avatar;\n  })\n\n  //console.log(events);\n\n  if (events.items) {\n    curPage = events.page.number+1;\n    maxPage = events.page.totalPages;\n    results = events.page.totalElements;\n    query = events.qs;\n  }\n\n  if(!events.items) {\n    return (\n      <div className=\"container\" style={styles}>\n        <div className=\"row\">\n          <div className=\"col-xs-6\">\n          <div id='events-panel' className=\"panel panel-primary\" style={{background: \"#337ab7\", border: \"1px solid #337ab7\"}}>\n            <div className=\"panel-heading\" style={{padding: \"10px 10px 0px 10px\"}}>\n              <p className=\"panel-title\" style={{background: \"#337ab7\", color: \"white\", fontSize: \"25px\"}}>Events</p>\n            </div>\n            <div className=\"panel-body\" style={{padding: \"10px\", background: \"white\", fontSize: \"14px\", lineHeight: \"1.4\"}}>\n            <div style={{background: \"white\"}}>\n              <SearchEvents />\n            </div>\n            <p style={{textAlign: \"right\"}}>No results found</p>\n            </div>\n          </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n  return (\n      <div className=\"container\" style={styles}>\n        <div className=\"row\">\n          <div className=\"col-xs-6\">\n          <div id='events-panel' className=\"panel panel-primary\" style={{background: \"#337ab7\", border: \"1px solid #337ab7\"}}>\n            <div className=\"panel-heading\" style={{padding: \"10px 10px 0px 10px\"}}>\n              <p className=\"panel-title\" style={{background: \"#337ab7\", color: \"white\", fontSize: \"25px\"}}>Events</p>\n            </div>\n            <div className=\"panel-body\" style={{padding: \"10px\", background: \"white\", fontSize: \"14px\", lineHeight: \"1.4\"}}>\n            <div style={{background: \"white\"}}>\n              <SearchEvents />\n            </div>\n            <Button size=\"small\" variant=\"outlined\" color=\"primary\" onClick={() => console.log('test')} style={{float: \"left\"}}>My Events</Button>\n            <p style={{textAlign: \"right\"}}>{results} Results</p>\n              <div id=\"events\" className=\"list-group\">\n                {(events.items).map(show => {\n                  return (\n                    <Event user={ user } event={ show } key={ show.id } getEvent={ getEvent } addEvent={ addEvent } clearEvent={ clearEvent } status={ status.find(function(element) {return element.event === show.id}) }/>\n                  );\n                })}\n              </div>\n            </div>\n            <div className=\"panel-footer\" style={{padding: \"10px\", backgroundColor: \"#f5f5f5\"}}>\n              <nav>\n                <ul className=\"pager\" style={{textAlign: \"center\", paddingLeft: 0, listStyle: \"none\"}}>\n                  <li id=\"prev\" className=\"previous\"><a href=\"#\" onClick={onPrev} style={{float: \"left\", padding: \"5px 15px\", backgroundColor: \"#fff\", border: \"1px solid #ddd\", borderRadius: \"15px\", color: \"#337ab7\", textDecoration: \"none\"}}><span aria-hidden=\"true\">&larr;</span></a></li>\n                  <li id=\"next\" className=\"next\"><a href=\"#\" onClick={onNext} style={{float: \"right\", padding: \"5px 15px\", backgroundColor: \"#fff\", border: \"1px solid #ddd\", borderRadius: \"15px\", color: \"#337ab7\", textDecoration: \"none\"}}><span aria-hidden=\"true\">&rarr;</span></a></li>\n                  <p style={{fontSize: \"16px\", float: \"center\", paddingTop: \"5px\"}}>{curPage}/{maxPage}</p>\n                </ul>\n              </nav>\n            </div>\n          </div>\n\n          <div id='attraction-panel' className=\"panel panel-primary\" style={{display: \"none\"}}>\n            <div className=\"panel-heading\">\n              <h3 className=\"panel-title\">Attraction</h3>\n            </div>\n            <div id=\"attraction\" className=\"panel-body\">\n              <h4 className=\"list-group-item-heading\">Attraction title</h4>\n              <img className=\"col-xs-12\" src=\"\" />\n              <p id=\"classification\"></p>\n            </div>\n          </div>\n          </div>\n        </div>\n      </div>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    events: state.events\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onPrev: () => {\n      query.page = query.page - 1;\n      if (query.page < 0) {\n        query.page = 0;\n      }\n      dispatch(getEvents(query));\n    },\n    onNext: () => {\n      query.page = query.page + 1;\n      // need to check for edge cases\n      if (query.page > 0) {\n        if (query.page > maxPage - 1) {\n          query.page = 0;\n        }\n      }\n      dispatch(getEvents(query));\n    },\n    getEvent: id => {\n      //console.log(`Checking event ${id}`);\n      // console.log(status.includes(id));\n      // dispatch(getEvents({id: id}));\n    },\n    addEvent: register => {\n      dispatch(addEvent(register)).then(\n        dispatch(getEvents(query))\n    )},\n    clearEvent: id => {\n      dispatch(clearEvent(id)).then(\n        dispatch(getEvents(query))\n    )},\n  }\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(EventList);\n"]},"metadata":{},"sourceType":"module"}