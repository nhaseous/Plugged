{"ast":null,"code":"import { ADD_POST, DELETE_POST, FETCH_POST } from './types';\nimport axios from 'axios';\nvar apiUrl = 'http://localhost:5000/api/posts';\nexport var createPost = function createPost(_ref) {\n  var user_id = _ref.user_id,\n      name = _ref.name,\n      body = _ref.body;\n  return function (dispatch) {\n    return axios.post(\"\".concat(apiUrl, \"/add\"), {\n      user_id: user_id,\n      name: name,\n      body: body\n    }).then(function (response) {\n      dispatch(createPostSuccess(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};\nexport var createPostSuccess = function createPostSuccess(data) {\n  return {\n    type: ADD_POST,\n    payload: {\n      _id: data._id,\n      body: data.body\n    }\n  };\n};\nexport var deletePostSuccess = function deletePostSuccess(id) {\n  return {\n    type: DELETE_POST,\n    payload: {\n      id: id\n    }\n  };\n};\nexport var deletePost = function deletePost(id) {\n  return function (dispatch) {\n    return axios.get(\"\".concat(apiUrl, \"/delete/\").concat(id)).then(function (response) {\n      dispatch(deletePostSuccess(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};\nexport var fetchPosts = function fetchPosts(posts) {\n  return {\n    type: FETCH_POST,\n    posts: posts\n  };\n};\nexport var fetchAllPosts = function fetchAllPosts() {\n  return function (dispatch) {\n    return axios.get(apiUrl).then(function (response) {\n      dispatch(fetchPosts(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};","map":{"version":3,"sources":["/Users/nha/Plugged/frontend/src/actions/index.js"],"names":["ADD_POST","DELETE_POST","FETCH_POST","axios","apiUrl","createPost","user_id","name","body","dispatch","post","then","response","createPostSuccess","data","catch","error","type","payload","_id","deletePostSuccess","id","deletePost","get","fetchPosts","posts","fetchAllPosts"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,UAAhC,QAAkD,SAAlD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,MAAM,GAAG,iCAAf;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAA6B;AAAA,MAA1BC,OAA0B,QAA1BA,OAA0B;AAAA,MAAjBC,IAAiB,QAAjBA,IAAiB;AAAA,MAAXC,IAAW,QAAXA,IAAW;AACrD,SAAO,UAACC,QAAD,EAAc;AACnB,WAAON,KAAK,CAACO,IAAN,WAAcN,MAAd,WAA4B;AAACE,MAAAA,OAAO,EAAPA,OAAD;AAAUC,MAAAA,IAAI,EAAJA,IAAV;AAAgBC,MAAAA,IAAI,EAAJA;AAAhB,KAA5B,EACJG,IADI,CACC,UAAAC,QAAQ,EAAI;AAChBH,MAAAA,QAAQ,CAACI,iBAAiB,CAACD,QAAQ,CAACE,IAAV,CAAlB,CAAR;AACD,KAHI,EAIJC,KAJI,CAIE,UAAAC,KAAK,EAAI;AACd,YAAMA,KAAN;AACD,KANI,CAAP;AAOD,GARD;AASD,CAVM;AAYP,OAAO,IAAMH,iBAAiB,GAAI,SAArBA,iBAAqB,CAACC,IAAD,EAAU;AAC1C,SAAO;AACLG,IAAAA,IAAI,EAAEjB,QADD;AAELkB,IAAAA,OAAO,EAAE;AACPC,MAAAA,GAAG,EAAEL,IAAI,CAACK,GADH;AAEPX,MAAAA,IAAI,EAAEM,IAAI,CAACN;AAFJ;AAFJ,GAAP;AAOD,CARM;AAUP,OAAO,IAAMY,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,EAAE,EAAI;AACrC,SAAO;AACLJ,IAAAA,IAAI,EAAEhB,WADD;AAELiB,IAAAA,OAAO,EAAE;AACPG,MAAAA,EAAE,EAAFA;AADO;AAFJ,GAAP;AAMD,CAPM;AASP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAD,EAAE,EAAI;AAC9B,SAAO,UAACZ,QAAD,EAAc;AACnB,WAAON,KAAK,CAACoB,GAAN,WAAanB,MAAb,qBAA8BiB,EAA9B,GACJV,IADI,CACC,UAAAC,QAAQ,EAAI;AAChBH,MAAAA,QAAQ,CAACW,iBAAiB,CAACR,QAAQ,CAACE,IAAV,CAAlB,CAAR;AACD,KAHI,EAIJC,KAJI,CAIE,UAAAC,KAAK,EAAI;AACd,YAAMA,KAAN;AACD,KANI,CAAP;AAOD,GARD;AASD,CAVM;AAYP,OAAO,IAAMQ,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AACnC,SAAO;AACLR,IAAAA,IAAI,EAAEf,UADD;AAELuB,IAAAA,KAAK,EAALA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACjC,SAAO,UAACjB,QAAD,EAAc;AACnB,WAAON,KAAK,CAACoB,GAAN,CAAUnB,MAAV,EACJO,IADI,CACC,UAAAC,QAAQ,EAAI;AAChBH,MAAAA,QAAQ,CAACe,UAAU,CAACZ,QAAQ,CAACE,IAAV,CAAX,CAAR;AACD,KAHI,EAIJC,KAJI,CAIE,UAAAC,KAAK,EAAI;AACd,YAAMA,KAAN;AACD,KANI,CAAP;AAOD,GARD;AASD,CAVM","sourcesContent":["import { ADD_POST, DELETE_POST, FETCH_POST } from './types';\nimport axios from 'axios';\n\nconst apiUrl = 'http://localhost:5000/api/posts';\n\nexport const createPost = ({ user_id, name, body }) => {\n  return (dispatch) => {\n    return axios.post(`${apiUrl}/add`, {user_id, name, body})\n      .then(response => {\n        dispatch(createPostSuccess(response.data))\n      })\n      .catch(error => {\n        throw(error);\n      });\n  };\n};\n\nexport const createPostSuccess =  (data) => {\n  return {\n    type: ADD_POST,\n    payload: {\n      _id: data._id,\n      body: data.body\n    }\n  }\n};\n\nexport const deletePostSuccess = id => {\n  return {\n    type: DELETE_POST,\n    payload: {\n      id\n    }\n  }\n}\n\nexport const deletePost = id => {\n  return (dispatch) => {\n    return axios.get(`${apiUrl}/delete/${id}`)\n      .then(response => {\n        dispatch(deletePostSuccess(response.data))\n      })\n      .catch(error => {\n        throw(error);\n      });\n  };\n};\n\nexport const fetchPosts = (posts) => {\n  return {\n    type: FETCH_POST,\n    posts\n  }\n};\n\nexport const fetchAllPosts = () => {\n  return (dispatch) => {\n    return axios.get(apiUrl)\n      .then(response => {\n        dispatch(fetchPosts(response.data))\n      })\n      .catch(error => {\n        throw(error);\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}