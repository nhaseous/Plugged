{"ast":null,"code":"var _jsxFileName = \"/Users/nha/Plugged/frontend/src/containers/EventList.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Post from '../components/Post';\nimport { deletePost } from '../actions';\nvar page = 0;\n\nfunction getEvents(page) {\n  $('#events-panel').show();\n  $('#attraction-panel').hide();\n\n  if (page < 0) {\n    page = 0;\n    return;\n  }\n\n  if (page > 0) {\n    if (page > getEvents.json.page.totalPages - 1) {\n      page = 0;\n      return;\n    }\n  }\n\n  $.ajax({\n    type: \"GET\",\n    url: \"https://app.ticketmaster.com/discovery/v2/events.json?apikey=5QGCEXAsJowiCI4n1uAwMlCGAcSNAEmG&size=4&page=\" + page,\n    async: true,\n    dataType: \"json\",\n    success: function success(json) {\n      getEvents.json = json;\n      showEvents(json);\n    },\n    error: function error(xhr, status, err) {\n      console.log(err);\n    }\n  });\n}\n\nfunction showEvents(json) {\n  var items = $('#events .list-group-item');\n  items.hide();\n  var events = json._embedded.events;\n  var item = items.first();\n\n  for (var i = 0; i < events.length; i++) {\n    item.children('.list-group-item-heading').text(events[i].name);\n    item.children('.list-group-item-text').text(events[i].dates.start.localDate);\n\n    try {\n      item.children('.venue').text(events[i]._embedded.venues[0].name + \" in \" + events[i]._embedded.venues[0].city.name);\n    } catch (err) {\n      console.log(err);\n    }\n\n    item.show();\n    item.off(\"click\");\n    item.click(events[i], function (eventObject) {\n      console.log(eventObject.data);\n\n      try {\n        getAttraction(eventObject.data._embedded.attractions[0].id);\n      } catch (err) {\n        console.log(err);\n      }\n    });\n    item = item.next();\n  }\n}\n\n$('#prev').click(function () {\n  getEvents(--page);\n});\n$('#next').click(function () {\n  getEvents(++page);\n});\n\nfunction getAttraction(id) {\n  $.ajax({\n    type: \"GET\",\n    url: \"https://app.ticketmaster.com/discovery/v2/attractions/\" + id + \".json?apikey=5QGCEXAsJowiCI4n1uAwMlCGAcSNAEmG\",\n    async: true,\n    dataType: \"json\",\n    success: function success(json) {\n      showAttraction(json);\n    },\n    error: function error(xhr, status, err) {\n      console.log(err);\n    }\n  });\n}\n\nfunction showAttraction(json) {\n  $('#events-panel').hide();\n  $('#attraction-panel').show();\n  $('#attraction-panel').click(function () {\n    getEvents(page);\n  });\n  $('#attraction .list-group-item-heading').first().text(json.name);\n  $('#attraction img').first().attr('src', json.images[0].url);\n  $('#classification').text(json.classifications[0].segment.name + \" - \" + json.classifications[0].genre.name + \" - \" + json.classifications[0].subGenre.name);\n}\n\ngetEvents(page);\n\nfunction EventList(_ref) {\n  var events = _ref.events;\n\n  if (!events.length) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"No Posts\");\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"head\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\",\n    integrity: \"sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7\",\n    crossOrigin: \"anonymous\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), React.createElement(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css\",\n    integrity: \"sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r\",\n    crossOrigin: \"anonymous\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }), React.createElement(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  })), React.createElement(\"body\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-xs-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"events-panel\",\n    className: \"panel panel-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"panel-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"panel-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, \"Events\")), React.createElement(\"div\", {\n    className: \"panel-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"events\",\n    className: \"list-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"#\",\n    className: \"list-group-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"list-group-item-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"Event title\"), React.createElement(\"p\", {\n    className: \"list-group-item-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"), React.createElement(\"p\", {\n    className: \"venue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  })), React.createElement(\"a\", {\n    href: \"#\",\n    className: \"list-group-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"list-group-item-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"Event title\"), React.createElement(\"p\", {\n    className: \"list-group-item-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"), React.createElement(\"p\", {\n    className: \"venue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  })), React.createElement(\"a\", {\n    href: \"#\",\n    className: \"list-group-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"list-group-item-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \"Event title\"), React.createElement(\"p\", {\n    className: \"list-group-item-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"), React.createElement(\"p\", {\n    className: \"venue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  })), React.createElement(\"a\", {\n    href: \"#\",\n    className: \"list-group-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"list-group-item-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, \"Event title\"), React.createElement(\"p\", {\n    className: \"list-group-item-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"), React.createElement(\"p\", {\n    className: \"venue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"panel-footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(\"nav\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"pager\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    id: \"prev\",\n    className: \"previous\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, \"\\u2190\"))), React.createElement(\"li\", {\n    id: \"next\",\n    className: \"next\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, \"\\u2192\"))))))), React.createElement(\"div\", {\n    id: \"attraction-panel\",\n    className: \"panel panel-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"panel-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"panel-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, \"Attraction\")), React.createElement(\"div\", {\n    id: \"attraction\",\n    className: \"panel-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"list-group-item-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, \"Attraction title\"), React.createElement(\"img\", {\n    className: \"col-xs-12\",\n    src: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"classification\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  })))))), React.createElement(\"script\", {\n    src: \"https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }), React.createElement(\"script\", {\n    src: \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\",\n    integrity: \"sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS\",\n    crossOrigin: \"anonymous\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }), React.createElement(\"script\", {\n    src: \"script.js\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  })));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    events: state.events\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onDelete: function onDelete(id) {\n      dispatch(deletePost(id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EventList);","map":{"version":3,"sources":["/Users/nha/Plugged/frontend/src/containers/EventList.js"],"names":["React","connect","Post","deletePost","page","getEvents","$","show","hide","json","totalPages","ajax","type","url","async","dataType","success","showEvents","error","xhr","status","err","console","log","items","events","_embedded","item","first","i","length","children","text","name","dates","start","localDate","venues","city","off","click","eventObject","data","getAttraction","attractions","id","next","showAttraction","attr","images","classifications","segment","genre","subGenre","EventList","mapStateToProps","state","mapDispatchToProps","dispatch","onDelete"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport Post from '../components/Post';\nimport { deletePost } from '../actions';\n\nvar page = 0;\n\nfunction getEvents(page) {\n\n  $('#events-panel').show();\n  $('#attraction-panel').hide();\n\n  if (page < 0) {\n    page = 0;\n    return;\n  }\n  if (page > 0) {\n    if (page > getEvents.json.page.totalPages-1) {\n      page=0;\n      return;\n    }\n  }\n\n  $.ajax({\n    type:\"GET\",\n    url:\"https://app.ticketmaster.com/discovery/v2/events.json?apikey=5QGCEXAsJowiCI4n1uAwMlCGAcSNAEmG&size=4&page=\"+page,\n    async:true,\n    dataType: \"json\",\n    success: function(json) {\n          getEvents.json = json;\n  \t\t\t  showEvents(json);\n  \t\t   },\n    error: function(xhr, status, err) {\n  \t\t\t  console.log(err);\n  \t\t   }\n  });\n}\n\nfunction showEvents(json) {\n  var items = $('#events .list-group-item');\n  items.hide();\n  var events = json._embedded.events;\n  var item = items.first();\n  for (var i=0;i<events.length;i++) {\n    item.children('.list-group-item-heading').text(events[i].name);\n    item.children('.list-group-item-text').text(events[i].dates.start.localDate);\n    try {\n      item.children('.venue').text(events[i]._embedded.venues[0].name + \" in \" + events[i]._embedded.venues[0].city.name);\n    } catch (err) {\n      console.log(err);\n    }\n    item.show();\n    item.off(\"click\");\n    item.click(events[i], function(eventObject) {\n      console.log(eventObject.data);\n      try {\n        getAttraction(eventObject.data._embedded.attractions[0].id);\n      } catch (err) {\n      console.log(err);\n      }\n    });\n    item=item.next();\n  }\n}\n\n$('#prev').click(function() {\n  getEvents(--page);\n});\n\n$('#next').click(function() {\n  getEvents(++page);\n});\n\nfunction getAttraction(id) {\n  $.ajax({\n    type:\"GET\",\n    url:\"https://app.ticketmaster.com/discovery/v2/attractions/\"+id+\".json?apikey=5QGCEXAsJowiCI4n1uAwMlCGAcSNAEmG\",\n    async:true,\n    dataType: \"json\",\n    success: function(json) {\n          showAttraction(json);\n  \t\t   },\n    error: function(xhr, status, err) {\n  \t\t\t  console.log(err);\n  \t\t   }\n  });\n}\n\nfunction showAttraction(json) {\n  $('#events-panel').hide();\n  $('#attraction-panel').show();\n\n  $('#attraction-panel').click(function() {\n    getEvents(page);\n  });\n\n  $('#attraction .list-group-item-heading').first().text(json.name);\n  $('#attraction img').first().attr('src',json.images[0].url);\n  $('#classification').text(json.classifications[0].segment.name + \" - \" + json.classifications[0].genre.name + \" - \" + json.classifications[0].subGenre.name);\n}\n\ngetEvents(page);\n\nfunction EventList({ events }) {\n  if(!events.length) {\n    return (\n      <div>\n        No Posts\n      </div>\n    )\n  }\n  return (\n    <div>\n    <head>\n      <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\" integrity=\"sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7\" crossOrigin=\"anonymous\" />\n      <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css\" integrity=\"sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r\" crossOrigin=\"anonymous\" />\n\n\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\" />\n    </head>\n\n      <body>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-6\">\n          <div id='events-panel' className=\"panel panel-primary\">\n            <div className=\"panel-heading\">\n              <h3 className=\"panel-title\">Events</h3>\n            </div>\n            <div className=\"panel-body\">\n              <div id=\"events\" className=\"list-group\">\n                <a href=\"#\" className=\"list-group-item\">\n                  <h4 className=\"list-group-item-heading\">Event title</h4>\n                  <p className=\"list-group-item-text\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\n                  <p className=\"venue\"></p>\n                </a>\n                <a href=\"#\" className=\"list-group-item\">\n                  <h4 className=\"list-group-item-heading\">Event title</h4>\n                  <p className=\"list-group-item-text\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\n                  <p className=\"venue\"></p>\n                </a>\n                <a href=\"#\" className=\"list-group-item\">\n                  <h4 className=\"list-group-item-heading\">Event title</h4>\n                  <p className=\"list-group-item-text\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\n                  <p className=\"venue\"></p>\n                </a>\n                <a href=\"#\" className=\"list-group-item\">\n                  <h4 className=\"list-group-item-heading\">Event title</h4>\n                  <p className=\"list-group-item-text\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\n                  <p className=\"venue\"></p>\n                </a>\n              </div>\n            </div>\n            <div className=\"panel-footer\">\n              <nav>\n                <ul className=\"pager\">\n                  <li id=\"prev\" className=\"previous\"><a href=\"#\"><span aria-hidden=\"true\">&larr;</span></a></li>\n                  <li id=\"next\" className=\"next\"><a href=\"#\"><span aria-hidden=\"true\">&rarr;</span></a></li>\n                </ul>\n              </nav>\n            </div>\n          </div>\n\n          <div id='attraction-panel' className=\"panel panel-primary\">\n            <div className=\"panel-heading\">\n              <h3 className=\"panel-title\">Attraction</h3>\n            </div>\n            <div id=\"attraction\" className=\"panel-body\">\n              <h4 className=\"list-group-item-heading\">Attraction title</h4>\n              <img className=\"col-xs-12\" src=\"\" />\n              <p id=\"classification\"></p>\n            </div>\n          </div>\n          </div>\n        </div>\n      </div>\n      <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js\"></script>\n      <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\" integrity=\"sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS\" crossOrigin=\"anonymous\"></script>\n      <script src=\"script.js\"></script>\n      </body>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    events: state.events\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onDelete: id => {\n      dispatch(deletePost(id));\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(EventList);\n"]},"metadata":{},"sourceType":"module"}