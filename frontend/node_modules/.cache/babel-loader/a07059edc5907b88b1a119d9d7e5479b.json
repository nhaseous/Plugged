{"ast":null,"code":"var _jsxFileName = \"/Users/nha/Plugged/frontend/src/containers/EventList.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Post from '../components/Post';\nimport { deletePost } from '../actions';\n$(document).ready(function () {\n  var page = 0;\n\n  function getEvents(page) {\n    $('#events-panel').show();\n    $('#attraction-panel').hide();\n\n    if (page < 0) {\n      page = 0;\n      return;\n    }\n\n    if (page > 0) {\n      if (page > getEvents.json.page.totalPages - 1) {\n        page = 0;\n        return;\n      }\n    }\n\n    $.ajax({\n      type: \"GET\",\n      url: \"https://app.ticketmaster.com/discovery/v2/events.json?apikey=5QGCEXAsJowiCI4n1uAwMlCGAcSNAEmG&size=4&page=\" + page,\n      async: true,\n      dataType: \"json\",\n      success: function success(json) {\n        getEvents.json = json;\n        showEvents(json);\n      },\n      error: function error(xhr, status, err) {\n        console.log(err);\n      }\n    });\n  }\n\n  function showEvents(json) {\n    var items = $('#events .list-group-item');\n    items.hide();\n    var events = json._embedded.events;\n    var item = items.first();\n\n    for (var i = 0; i < events.length; i++) {\n      item.children('.list-group-item-heading').text(events[i].name);\n      item.children('.list-group-item-text').text(events[i].dates.start.localDate);\n\n      try {\n        item.children('.venue').text(events[i]._embedded.venues[0].name + \" in \" + events[i]._embedded.venues[0].city.name);\n      } catch (err) {\n        console.log(err);\n      }\n\n      item.show();\n      item.off(\"click\");\n      item.click(events[i], function (eventObject) {\n        console.log(eventObject.data);\n\n        try {\n          getAttraction(eventObject.data._embedded.attractions[0].id);\n        } catch (err) {\n          console.log(err);\n        }\n      });\n      item = item.next();\n    }\n  }\n\n  $('#prev').click(function () {\n    getEvents(--page);\n  });\n  $('#next').click(function () {\n    getEvents(++page);\n  });\n\n  function getAttraction(id) {\n    $.ajax({\n      type: \"GET\",\n      url: \"https://app.ticketmaster.com/discovery/v2/attractions/\" + id + \".json?apikey=5QGCEXAsJowiCI4n1uAwMlCGAcSNAEmG\",\n      async: true,\n      dataType: \"json\",\n      success: function success(json) {\n        showAttraction(json);\n      },\n      error: function error(xhr, status, err) {\n        console.log(err);\n      }\n    });\n  }\n\n  function showAttraction(json) {\n    $('#events-panel').hide();\n    $('#attraction-panel').show();\n    $('#attraction-panel').click(function () {\n      getEvents(page);\n    });\n    $('#attraction .list-group-item-heading').first().text(json.name);\n    $('#attraction img').first().attr('src', json.images[0].url);\n    $('#classification').text(json.classifications[0].segment.name + \" - \" + json.classifications[0].genre.name + \" - \" + json.classifications[0].subGenre.name);\n  }\n\n  getEvents(page);\n});\n\nfunction EventList(_ref) {\n  var events = _ref.events;\n\n  if (!events.length) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"No Posts\");\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"head\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\",\n    integrity: \"sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7\",\n    crossOrigin: \"anonymous\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css\",\n    integrity: \"sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r\",\n    crossOrigin: \"anonymous\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }), React.createElement(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  })), React.createElement(\"body\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-xs-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"events-panel\",\n    className: \"panel panel-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"panel-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"panel-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, \"Events\")), React.createElement(\"div\", {\n    className: \"panel-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"events\",\n    className: \"list-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"#\",\n    className: \"list-group-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"list-group-item-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, \"Event title\"), React.createElement(\"p\", {\n    className: \"list-group-item-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"), React.createElement(\"p\", {\n    className: \"venue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  })), React.createElement(\"a\", {\n    href: \"#\",\n    className: \"list-group-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"list-group-item-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, \"Event title\"), React.createElement(\"p\", {\n    className: \"list-group-item-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"), React.createElement(\"p\", {\n    className: \"venue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  })), React.createElement(\"a\", {\n    href: \"#\",\n    className: \"list-group-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"list-group-item-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, \"Event title\"), React.createElement(\"p\", {\n    className: \"list-group-item-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"), React.createElement(\"p\", {\n    className: \"venue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  })), React.createElement(\"a\", {\n    href: \"#\",\n    className: \"list-group-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"list-group-item-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, \"Event title\"), React.createElement(\"p\", {\n    className: \"list-group-item-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"), React.createElement(\"p\", {\n    className: \"venue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"panel-footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(\"nav\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"pager\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    id: \"prev\",\n    className: \"previous\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"\\u2190\"))), React.createElement(\"li\", {\n    id: \"next\",\n    className: \"next\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, \"\\u2192\"))))))), React.createElement(\"div\", {\n    id: \"attraction-panel\",\n    className: \"panel panel-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"panel-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"panel-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, \"Attraction\")), React.createElement(\"div\", {\n    id: \"attraction\",\n    className: \"panel-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"list-group-item-heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, \"Attraction title\"), React.createElement(\"img\", {\n    className: \"col-xs-12\",\n    src: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"classification\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  })))))), React.createElement(\"script\", {\n    src: \"https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }), React.createElement(\"script\", {\n    src: \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\",\n    integrity: \"sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS\",\n    crossOrigin: \"anonymous\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }), React.createElement(\"script\", {\n    src: \"script.js\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  })));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    events: state.events\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onDelete: function onDelete(id) {\n      dispatch(deletePost(id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EventList);","map":{"version":3,"sources":["/Users/nha/Plugged/frontend/src/containers/EventList.js"],"names":["React","connect","Post","deletePost","$","document","ready","page","getEvents","show","hide","json","totalPages","ajax","type","url","async","dataType","success","showEvents","error","xhr","status","err","console","log","items","events","_embedded","item","first","i","length","children","text","name","dates","start","localDate","venues","city","off","click","eventObject","data","getAttraction","attractions","id","next","showAttraction","attr","images","classifications","segment","genre","subGenre","EventList","mapStateToProps","state","mapDispatchToProps","dispatch","onDelete"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport Post from '../components/Post';\nimport { deletePost } from '../actions';\n\n$(document).ready(function () {\n  var page = 0;\n\n  function getEvents(page) {\n\n    $('#events-panel').show();\n    $('#attraction-panel').hide();\n\n    if (page < 0) {\n      page = 0;\n      return;\n    }\n    if (page > 0) {\n      if (page > getEvents.json.page.totalPages-1) {\n        page=0;\n        return;\n      }\n    }\n\n    $.ajax({\n      type:\"GET\",\n      url:\"https://app.ticketmaster.com/discovery/v2/events.json?apikey=5QGCEXAsJowiCI4n1uAwMlCGAcSNAEmG&size=4&page=\"+page,\n      async:true,\n      dataType: \"json\",\n      success: function(json) {\n            getEvents.json = json;\n    \t\t\t  showEvents(json);\n    \t\t   },\n      error: function(xhr, status, err) {\n    \t\t\t  console.log(err);\n    \t\t   }\n    });\n  }\n\n  function showEvents(json) {\n    var items = $('#events .list-group-item');\n    items.hide();\n    var events = json._embedded.events;\n    var item = items.first();\n    for (var i=0;i<events.length;i++) {\n      item.children('.list-group-item-heading').text(events[i].name);\n      item.children('.list-group-item-text').text(events[i].dates.start.localDate);\n      try {\n        item.children('.venue').text(events[i]._embedded.venues[0].name + \" in \" + events[i]._embedded.venues[0].city.name);\n      } catch (err) {\n        console.log(err);\n      }\n      item.show();\n      item.off(\"click\");\n      item.click(events[i], function(eventObject) {\n        console.log(eventObject.data);\n        try {\n          getAttraction(eventObject.data._embedded.attractions[0].id);\n        } catch (err) {\n        console.log(err);\n        }\n      });\n      item=item.next();\n    }\n  }\n\n  $('#prev').click(function() {\n    getEvents(--page);\n  });\n\n  $('#next').click(function() {\n    getEvents(++page);\n  });\n\n  function getAttraction(id) {\n    $.ajax({\n      type:\"GET\",\n      url:\"https://app.ticketmaster.com/discovery/v2/attractions/\"+id+\".json?apikey=5QGCEXAsJowiCI4n1uAwMlCGAcSNAEmG\",\n      async:true,\n      dataType: \"json\",\n      success: function(json) {\n            showAttraction(json);\n    \t\t   },\n      error: function(xhr, status, err) {\n    \t\t\t  console.log(err);\n    \t\t   }\n    });\n  }\n\n  function showAttraction(json) {\n    $('#events-panel').hide();\n    $('#attraction-panel').show();\n\n    $('#attraction-panel').click(function() {\n      getEvents(page);\n    });\n\n    $('#attraction .list-group-item-heading').first().text(json.name);\n    $('#attraction img').first().attr('src',json.images[0].url);\n    $('#classification').text(json.classifications[0].segment.name + \" - \" + json.classifications[0].genre.name + \" - \" + json.classifications[0].subGenre.name);\n  }\n\n  getEvents(page);\n\n});\n\nfunction EventList({ events }) {\n  if(!events.length) {\n    return (\n      <div>\n        No Posts\n      </div>\n    )\n  }\n  return (\n    <div>\n    <head>\n      <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\" integrity=\"sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7\" crossOrigin=\"anonymous\" />\n      <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css\" integrity=\"sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r\" crossOrigin=\"anonymous\" />\n\n\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\" />\n    </head>\n\n      <body>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-6\">\n          <div id='events-panel' className=\"panel panel-primary\">\n            <div className=\"panel-heading\">\n              <h3 className=\"panel-title\">Events</h3>\n            </div>\n            <div className=\"panel-body\">\n              <div id=\"events\" className=\"list-group\">\n                <a href=\"#\" className=\"list-group-item\">\n                  <h4 className=\"list-group-item-heading\">Event title</h4>\n                  <p className=\"list-group-item-text\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\n                  <p className=\"venue\"></p>\n                </a>\n                <a href=\"#\" className=\"list-group-item\">\n                  <h4 className=\"list-group-item-heading\">Event title</h4>\n                  <p className=\"list-group-item-text\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\n                  <p className=\"venue\"></p>\n                </a>\n                <a href=\"#\" className=\"list-group-item\">\n                  <h4 className=\"list-group-item-heading\">Event title</h4>\n                  <p className=\"list-group-item-text\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\n                  <p className=\"venue\"></p>\n                </a>\n                <a href=\"#\" className=\"list-group-item\">\n                  <h4 className=\"list-group-item-heading\">Event title</h4>\n                  <p className=\"list-group-item-text\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\n                  <p className=\"venue\"></p>\n                </a>\n              </div>\n            </div>\n            <div className=\"panel-footer\">\n              <nav>\n                <ul className=\"pager\">\n                  <li id=\"prev\" className=\"previous\"><a href=\"#\"><span aria-hidden=\"true\">&larr;</span></a></li>\n                  <li id=\"next\" className=\"next\"><a href=\"#\"><span aria-hidden=\"true\">&rarr;</span></a></li>\n                </ul>\n              </nav>\n            </div>\n          </div>\n\n          <div id='attraction-panel' className=\"panel panel-primary\">\n            <div className=\"panel-heading\">\n              <h3 className=\"panel-title\">Attraction</h3>\n            </div>\n            <div id=\"attraction\" className=\"panel-body\">\n              <h4 className=\"list-group-item-heading\">Attraction title</h4>\n              <img className=\"col-xs-12\" src=\"\" />\n              <p id=\"classification\"></p>\n            </div>\n          </div>\n          </div>\n        </div>\n      </div>\n      <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js\"></script>\n      <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\" integrity=\"sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS\" crossOrigin=\"anonymous\"></script>\n      <script src=\"script.js\"></script>\n      </body>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    events: state.events\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onDelete: id => {\n      dispatch(deletePost(id));\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(EventList);\n"]},"metadata":{},"sourceType":"module"}