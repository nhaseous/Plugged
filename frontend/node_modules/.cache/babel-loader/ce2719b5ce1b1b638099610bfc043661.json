{"ast":null,"code":"import { ADD_POST, DELETE_POST, FETCH_POST } from './types';\nimport axios from 'axios';\nvar apiUrl = 'http://localhost:5000/api/posts';\nexport var createPost = function createPost(_ref) {\n  var user_id = _ref.user_id,\n      name = _ref.name,\n      avatar = _ref.avatar,\n      body = _ref.body;\n  return function (dispatch) {\n    return axios.post(\"\".concat(apiUrl, \"/add\"), {\n      me: me,\n      body: body\n    }).then(function (response) {\n      dispatch(createPostSuccess(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};\nexport var createPostSuccess = function createPostSuccess(data) {\n  return {\n    type: ADD_POST,\n    payload: {\n      _id: data._id,\n      body: data.body\n    }\n  };\n};\nexport var deletePostSuccess = function deletePostSuccess(id) {\n  return {\n    type: DELETE_POST,\n    payload: {\n      id: id\n    }\n  };\n};\nexport var deletePost = function deletePost(id) {\n  return function (dispatch) {\n    return axios.get(\"\".concat(apiUrl, \"/delete/\").concat(id)).then(function (response) {\n      dispatch(deletePostSuccess(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};\nexport var fetchPosts = function fetchPosts(posts) {\n  return {\n    type: FETCH_POST,\n    posts: posts\n  };\n};\nexport var fetchAllPosts = function fetchAllPosts() {\n  return function (dispatch) {\n    return axios.get(apiUrl).then(function (response) {\n      dispatch(fetchPosts(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};","map":{"version":3,"sources":["/Users/nha/Plugged/frontend/src/actions/index.js"],"names":["ADD_POST","DELETE_POST","FETCH_POST","axios","apiUrl","createPost","user_id","name","avatar","body","dispatch","post","me","then","response","createPostSuccess","data","catch","error","type","payload","_id","deletePostSuccess","id","deletePost","get","fetchPosts","posts","fetchAllPosts"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,UAAhC,QAAkD,SAAlD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,MAAM,GAAG,iCAAf;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAAqC;AAAA,MAAlCC,OAAkC,QAAlCA,OAAkC;AAAA,MAAzBC,IAAyB,QAAzBA,IAAyB;AAAA,MAAnBC,MAAmB,QAAnBA,MAAmB;AAAA,MAAXC,IAAW,QAAXA,IAAW;AAC7D,SAAO,UAACC,QAAD,EAAc;AACnB,WAAOP,KAAK,CAACQ,IAAN,WAAcP,MAAd,WAA4B;AAACQ,MAAAA,EAAE,EAAFA,EAAD;AAAKH,MAAAA,IAAI,EAAJA;AAAL,KAA5B,EACJI,IADI,CACC,UAAAC,QAAQ,EAAI;AAChBJ,MAAAA,QAAQ,CAACK,iBAAiB,CAACD,QAAQ,CAACE,IAAV,CAAlB,CAAR;AACD,KAHI,EAIJC,KAJI,CAIE,UAAAC,KAAK,EAAI;AACd,YAAMA,KAAN;AACD,KANI,CAAP;AAOD,GARD;AASD,CAVM;AAYP,OAAO,IAAMH,iBAAiB,GAAI,SAArBA,iBAAqB,CAACC,IAAD,EAAU;AAC1C,SAAO;AACLG,IAAAA,IAAI,EAAEnB,QADD;AAELoB,IAAAA,OAAO,EAAE;AACPC,MAAAA,GAAG,EAAEL,IAAI,CAACK,GADH;AAEPZ,MAAAA,IAAI,EAAEO,IAAI,CAACP;AAFJ;AAFJ,GAAP;AAOD,CARM;AAUP,OAAO,IAAMa,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,EAAE,EAAI;AACrC,SAAO;AACLJ,IAAAA,IAAI,EAAElB,WADD;AAELmB,IAAAA,OAAO,EAAE;AACPG,MAAAA,EAAE,EAAFA;AADO;AAFJ,GAAP;AAMD,CAPM;AASP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAD,EAAE,EAAI;AAC9B,SAAO,UAACb,QAAD,EAAc;AACnB,WAAOP,KAAK,CAACsB,GAAN,WAAarB,MAAb,qBAA8BmB,EAA9B,GACJV,IADI,CACC,UAAAC,QAAQ,EAAI;AAChBJ,MAAAA,QAAQ,CAACY,iBAAiB,CAACR,QAAQ,CAACE,IAAV,CAAlB,CAAR;AACD,KAHI,EAIJC,KAJI,CAIE,UAAAC,KAAK,EAAI;AACd,YAAMA,KAAN;AACD,KANI,CAAP;AAOD,GARD;AASD,CAVM;AAYP,OAAO,IAAMQ,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AACnC,SAAO;AACLR,IAAAA,IAAI,EAAEjB,UADD;AAELyB,IAAAA,KAAK,EAALA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACjC,SAAO,UAAClB,QAAD,EAAc;AACnB,WAAOP,KAAK,CAACsB,GAAN,CAAUrB,MAAV,EACJS,IADI,CACC,UAAAC,QAAQ,EAAI;AAChBJ,MAAAA,QAAQ,CAACgB,UAAU,CAACZ,QAAQ,CAACE,IAAV,CAAX,CAAR;AACD,KAHI,EAIJC,KAJI,CAIE,UAAAC,KAAK,EAAI;AACd,YAAMA,KAAN;AACD,KANI,CAAP;AAOD,GARD;AASD,CAVM","sourcesContent":["import { ADD_POST, DELETE_POST, FETCH_POST } from './types';\nimport axios from 'axios';\n\nconst apiUrl = 'http://localhost:5000/api/posts';\n\nexport const createPost = ({ user_id, name, avatar, body }) => {\n  return (dispatch) => {\n    return axios.post(`${apiUrl}/add`, {me, body})\n      .then(response => {\n        dispatch(createPostSuccess(response.data))\n      })\n      .catch(error => {\n        throw(error);\n      });\n  };\n};\n\nexport const createPostSuccess =  (data) => {\n  return {\n    type: ADD_POST,\n    payload: {\n      _id: data._id,\n      body: data.body\n    }\n  }\n};\n\nexport const deletePostSuccess = id => {\n  return {\n    type: DELETE_POST,\n    payload: {\n      id\n    }\n  }\n}\n\nexport const deletePost = id => {\n  return (dispatch) => {\n    return axios.get(`${apiUrl}/delete/${id}`)\n      .then(response => {\n        dispatch(deletePostSuccess(response.data))\n      })\n      .catch(error => {\n        throw(error);\n      });\n  };\n};\n\nexport const fetchPosts = (posts) => {\n  return {\n    type: FETCH_POST,\n    posts\n  }\n};\n\nexport const fetchAllPosts = () => {\n  return (dispatch) => {\n    return axios.get(apiUrl)\n      .then(response => {\n        dispatch(fetchPosts(response.data))\n      })\n      .catch(error => {\n        throw(error);\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}