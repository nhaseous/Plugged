{"ast":null,"code":"import { ADD_POST, DELETE_POST, FETCH_POST, GET_EVENTS, ADD_EVENT } from './types';\nimport axios from 'axios';\nvar apiUrl = '/api/posts';\nexport var createPost = function createPost(_ref) {\n  var sender = _ref.sender,\n      name = _ref.name,\n      avatar = _ref.avatar,\n      body = _ref.body;\n  return function (dispatch) {\n    return axios.post(\"\".concat(apiUrl, \"/add\"), {\n      sender: sender,\n      name: name,\n      avatar: avatar,\n      body: body\n    }).then(function (response) {\n      dispatch(createPostSuccess(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};\nexport var createPostSuccess = function createPostSuccess(data) {\n  return {\n    type: ADD_POST,\n    payload: {\n      _id: data._id,\n      body: data.body\n    }\n  };\n};\nexport var deletePostSuccess = function deletePostSuccess(id) {\n  return {\n    type: DELETE_POST,\n    payload: {\n      id: id\n    }\n  };\n};\nexport var deletePost = function deletePost(id) {\n  return function (dispatch) {\n    return axios.get(\"\".concat(apiUrl, \"/delete/\").concat(id)).then(function (response) {\n      dispatch(deletePostSuccess(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};\nexport var fetchPosts = function fetchPosts(posts) {\n  return {\n    type: FETCH_POST,\n    posts: posts\n  };\n};\nexport var fetchAllPosts = function fetchAllPosts() {\n  return function (dispatch) {\n    return axios.get('/api/users/me').then(function (res) {\n      axios.get(\"\".concat(apiUrl, \"/\")).then(function (response) {\n        dispatch(fetchPosts(response.data));\n      }).catch(function (error) {\n        throw error;\n      });\n    });\n  };\n};\nexport var getEventsSuccess = function getEventsSuccess(events) {\n  return {\n    type: GET_EVENTS,\n    events: events\n  };\n};\nexport var getEvents = function getEvents(query) {\n  return function (dispatch) {\n    return axios.post('/api/events/', query).then(function (response) {\n      dispatch(getEventsSuccess(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};\nexport var addEventSuccess = function addEventSuccess(id) {\n  return {\n    type: ADD_EVENT,\n    id: id\n  };\n};\nexport var addEvent = function addEvent(id) {\n  return function (dispatch) {\n    return axios.post('/api/events/add', id).then(function (response) {\n      dispatch(addEventSuccess(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};","map":{"version":3,"sources":["/Users/nha/Plugged/frontend/src/actions/index.js"],"names":["ADD_POST","DELETE_POST","FETCH_POST","GET_EVENTS","ADD_EVENT","axios","apiUrl","createPost","sender","name","avatar","body","dispatch","post","then","response","createPostSuccess","data","catch","error","type","payload","_id","deletePostSuccess","id","deletePost","get","fetchPosts","posts","fetchAllPosts","res","getEventsSuccess","events","getEvents","query","addEventSuccess","addEvent"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,UAAhC,EAA4CC,UAA5C,EAAwDC,SAAxD,QAAyE,SAAzE;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,MAAM,GAAG,YAAf;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAAoC;AAAA,MAAjCC,MAAiC,QAAjCA,MAAiC;AAAA,MAAzBC,IAAyB,QAAzBA,IAAyB;AAAA,MAAnBC,MAAmB,QAAnBA,MAAmB;AAAA,MAAXC,IAAW,QAAXA,IAAW;AAC5D,SAAO,UAACC,QAAD,EAAc;AACnB,WAAOP,KAAK,CAACQ,IAAN,WAAcP,MAAd,WAA4B;AAACE,MAAAA,MAAM,EAANA,MAAD;AAASC,MAAAA,IAAI,EAAJA,IAAT;AAAeC,MAAAA,MAAM,EAANA,MAAf;AAAuBC,MAAAA,IAAI,EAAJA;AAAvB,KAA5B,EACJG,IADI,CACC,UAAAC,QAAQ,EAAI;AAChBH,MAAAA,QAAQ,CAACI,iBAAiB,CAACD,QAAQ,CAACE,IAAV,CAAlB,CAAR;AACD,KAHI,EAIJC,KAJI,CAIE,UAAAC,KAAK,EAAI;AACd,YAAMA,KAAN;AACD,KANI,CAAP;AAOD,GARD;AASD,CAVM;AAYP,OAAO,IAAMH,iBAAiB,GAAI,SAArBA,iBAAqB,CAACC,IAAD,EAAU;AAC1C,SAAO;AACLG,IAAAA,IAAI,EAAEpB,QADD;AAELqB,IAAAA,OAAO,EAAE;AACPC,MAAAA,GAAG,EAAEL,IAAI,CAACK,GADH;AAEPX,MAAAA,IAAI,EAAEM,IAAI,CAACN;AAFJ;AAFJ,GAAP;AAOD,CARM;AAUP,OAAO,IAAMY,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,EAAE,EAAI;AACrC,SAAO;AACLJ,IAAAA,IAAI,EAAEnB,WADD;AAELoB,IAAAA,OAAO,EAAE;AACPG,MAAAA,EAAE,EAAFA;AADO;AAFJ,GAAP;AAMD,CAPM;AASP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAD,EAAE,EAAI;AAC9B,SAAO,UAACZ,QAAD,EAAc;AACnB,WAAOP,KAAK,CAACqB,GAAN,WAAapB,MAAb,qBAA8BkB,EAA9B,GACJV,IADI,CACC,UAAAC,QAAQ,EAAI;AAChBH,MAAAA,QAAQ,CAACW,iBAAiB,CAACR,QAAQ,CAACE,IAAV,CAAlB,CAAR;AACD,KAHI,EAIJC,KAJI,CAIE,UAAAC,KAAK,EAAI;AACd,YAAMA,KAAN;AACD,KANI,CAAP;AAOD,GARD;AASD,CAVM;AAYP,OAAO,IAAMQ,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AACnC,SAAO;AACLR,IAAAA,IAAI,EAAElB,UADD;AAEL0B,IAAAA,KAAK,EAALA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACjC,SAAO,UAACjB,QAAD,EAAc;AACnB,WAAOP,KAAK,CAACqB,GAAN,CAAU,eAAV,EACFZ,IADE,CACG,UAAAgB,GAAG,EAAI;AACXzB,MAAAA,KAAK,CAACqB,GAAN,WAAapB,MAAb,QACGQ,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChBH,QAAAA,QAAQ,CAACe,UAAU,CAACZ,QAAQ,CAACE,IAAV,CAAX,CAAR;AACD,OAHH,EAIGC,KAJH,CAIS,UAAAC,KAAK,EAAI;AACd,cAAMA,KAAN;AACD,OANH;AAOD,KATE,CAAP;AAUD,GAXD;AAYD,CAbM;AAeP,OAAO,IAAMY,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,MAAD,EAAY;AAC1C,SAAO;AACLZ,IAAAA,IAAI,EAAEjB,UADD;AAEL6B,IAAAA,MAAM,EAANA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAW;AAClC,SAAO,UAACtB,QAAD,EAAc;AACnB,WAAOP,KAAK,CAACQ,IAAN,CAAW,cAAX,EAA2BqB,KAA3B,EACFpB,IADE,CACG,UAAAC,QAAQ,EAAI;AAChBH,MAAAA,QAAQ,CAACmB,gBAAgB,CAAChB,QAAQ,CAACE,IAAV,CAAjB,CAAR;AACD,KAHE,EAIFC,KAJE,CAII,UAAAC,KAAK,EAAI;AACd,YAAMA,KAAN;AACD,KANE,CAAP;AAOD,GARD;AASD,CAVM;AAaP,OAAO,IAAMgB,eAAe,GAAG,SAAlBA,eAAkB,CAACX,EAAD,EAAQ;AACrC,SAAO;AACLJ,IAAAA,IAAI,EAAEhB,SADD;AAELoB,IAAAA,EAAE,EAAFA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,IAAMY,QAAQ,GAAG,SAAXA,QAAW,CAACZ,EAAD,EAAQ;AAC9B,SAAO,UAACZ,QAAD,EAAc;AACnB,WAAOP,KAAK,CAACQ,IAAN,CAAW,iBAAX,EAA8BW,EAA9B,EACFV,IADE,CACG,UAAAC,QAAQ,EAAI;AAChBH,MAAAA,QAAQ,CAACuB,eAAe,CAACpB,QAAQ,CAACE,IAAV,CAAhB,CAAR;AACD,KAHE,EAIFC,KAJE,CAII,UAAAC,KAAK,EAAI;AACd,YAAMA,KAAN;AACD,KANE,CAAP;AAOD,GARD;AASD,CAVM","sourcesContent":["import { ADD_POST, DELETE_POST, FETCH_POST, GET_EVENTS, ADD_EVENT } from './types';\nimport axios from 'axios';\n\nconst apiUrl = '/api/posts';\n\nexport const createPost = ({ sender, name, avatar, body }) => {\n  return (dispatch) => {\n    return axios.post(`${apiUrl}/add`, {sender, name, avatar, body})\n      .then(response => {\n        dispatch(createPostSuccess(response.data))\n      })\n      .catch(error => {\n        throw(error);\n      });\n  };\n};\n\nexport const createPostSuccess =  (data) => {\n  return {\n    type: ADD_POST,\n    payload: {\n      _id: data._id,\n      body: data.body\n    }\n  }\n};\n\nexport const deletePostSuccess = id => {\n  return {\n    type: DELETE_POST,\n    payload: {\n      id\n    }\n  }\n}\n\nexport const deletePost = id => {\n  return (dispatch) => {\n    return axios.get(`${apiUrl}/delete/${id}`)\n      .then(response => {\n        dispatch(deletePostSuccess(response.data))\n      })\n      .catch(error => {\n        throw(error);\n      });\n  };\n};\n\nexport const fetchPosts = (posts) => {\n  return {\n    type: FETCH_POST,\n    posts\n  }\n};\n\nexport const fetchAllPosts = () => {\n  return (dispatch) => {\n    return axios.get('/api/users/me')\n        .then(res => {\n          axios.get(`${apiUrl}/`)\n            .then(response => {\n              dispatch(fetchPosts(response.data))\n            })\n            .catch(error => {\n              throw(error);\n            });\n        });\n  };\n};\n\nexport const getEventsSuccess = (events) => {\n  return {\n    type: GET_EVENTS,\n    events\n  }\n}\n\nexport const getEvents = (query) => {\n  return (dispatch) => {\n    return axios.post('/api/events/', query)\n        .then(response => {\n          dispatch(getEventsSuccess(response.data))\n        })\n        .catch(error => {\n          throw(error);\n        });\n  }\n}\n\n\nexport const addEventSuccess = (id) => {\n  return {\n    type: ADD_EVENT,\n    id\n  }\n}\n\nexport const addEvent = (id) => {\n  return (dispatch) => {\n    return axios.post('/api/events/add', id)\n        .then(response => {\n          dispatch(addEventSuccess(response.data))\n        })\n        .catch(error => {\n          throw(error);\n        });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}